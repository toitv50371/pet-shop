<div class="container content__padding">
  <div class="row g-0">
    <div class="col-sm-12 col-md-6 col-lg-12">
      <div class="container">
            <div class="row detail__product">
              <div class="col-md-3 col-lg-3 detail__product-img">
                <img src="{{pet.img}}" class="img-fluid rounded-start" alt="...">
            </div>
            <div class="col-md-4 col-lg-4">
                <div class="card-body">
                    <h4 class="detail__product-title">{{pet.name}}</h4>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="sex-type" id="inlineRadio1" value="Đực" checked>
                      <label class="form-check-label detail__product-text" for="inlineRadio1">Đực</label>
                    </div>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="sex-type" id="inlineRadio2" value="Cái">
                      <label class="form-check-label detail__product-text" for="inlineRadio2">Cái</label>
                    </div>
                    
                    <h4 class="detail__product-text">Tuổi: {{pet.age}}</h4>
                            

                    <div class="detail__cart">
                      <h4 class="detail__product-price">Giá:{{pet.price}}đ</h4>  
                        <form method="POST" action="/user/storeCart" id="form__detail">
                          <input type="hidden" name="name" value="{{pet.name}}">
                          <input type="hidden" name="description" value="{{pet.age}}">
                          <input type="hidden" name="img" value="{{pet.img}}">
                          <input type="hidden" name="price" value="{{pet.price}}">
                          <input type="hidden" name="quantity" value="1">

                          <button id="detail__btn" class="btn detail__btn" type="submit" data-bs-toggle="modal" data-bs-target="#exampleModal">Thêm vào giỏ hàng</button>
                        </form>

                    </div>
                    <div class="card text-dark bg-light mb-3 detail__product-description">
                    <div class="card-header">Đặc quyền đi kèm</div>
                      <div class="card-body">
                        <ul>
                          <li class="detail__product-des">Trả góp LS 0% trong 12 tháng</li>
                          <li class="detail__product-des">Bảo hành lên tới 365 ngày.</li>
                          <li class="detail__product-des">Bảo hiểm sức khỏe lên tới 1,000,000đ</li>
                          <li class="detail__product-des">Miễn phí vận chuyển toàn quốc</li>
                          <li class="detail__product-des">Giảm 500,000đ khi mua bé thứ 2.</li>
                          <li class="detail__product-des">Giảm trọn đời 5% khi mua phụ kiện.</li>
                        </ul>
                      </div>
                    </div>


                </div>
            </div>
            </div>
          </ul>
        </form>
      </div>
    </div>
  </div>
</div>

{{!-- 
Modal --}}

{{!-- <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <p class="modal-title" id="exampleModalLabel">Bạn đã thêm <h3 class="modal__product">{{pet.name}}</h3> vào giỏ hàng</p>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <table class="table ">
          <thead class="table-secondary">
             <tr>
              <td colspan="2" class="modal__title">Sản phẩm</td>
              <td colspan="1" class="modal__title">Đơn giá</td>
              <td colspan="1" class="modal__title">Số lượng</td>
              <td colspan="1" class="modal__title">Thành tiền</td>
            </tr>
          </thead>
          <tbody>
              <tr class="cart">
              <td colspan="2">
                <div class="container">
                  <div class="row">
                    <div class="col-lg-3">
                      <img src="{{pet.img}}" class="img-fluid modal__img" alt="...">
                    </div>
                    <div class="col-lg-9">
                      <p class="color-theme modal__des">{{pet.name}}</p>
                      <div class="container">
                        <div class="row">
                          <div class="col-lg-6">
                            <p class="modal__des">Tuổi: {{pet.age}}</p>
                          </div>
                          <div class="col-lg-6">
                            <p id="modal__sex" class="modal__des"></p>
                          </div>

                        </div>
                      </div>
                      <button class="modal__delete">
                        <i class="ri-close-line"></i>
                        <p>Bỏ sản phẩm</p>
                      </button>
                    </div>
                  </div>
                  
                </div>
              </td>
              <td colspan="1" class="color-theme cart__price">{{pet.price}} đ</td>
              <td colspan="1">
                  <div class="counter">
                    <input type='button' value='-' class='down' onClick='down(event, this)'/>
                    <input type='text' id="quantity" value='1' class='num qty' disabled/>
                    <input type='button' value='+' class='up' onClick='up(event, this)'/>
                  </div>

              </td>
              <td colspan="1" class="color-theme cart__total-price">{{pet.price}} đ</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <a href="/user/{{pet.slug}}">
          <button type="button"  class="btn btn-primary">Tiến hành thanh toán</button>
        </a>
      </div>
    </div>
  </div>
</div> --}}

{{!-- Add to Cart --}}

<script>
  function up(a, b) {
    var input = b.previousElementSibling;
    var value = parseInt(input.value, 10);
    value = isNaN(value) ? 0 : value;
    value++;
    input.value = value;
    updatetotal()
  }

  function down(a, b) {
    var input = b.nextElementSibling;
    var value = parseInt(input.value, 10);
    if (value > 1) {
      value = isNaN(value) ? 1 : value;
      value--;
      input.value = value;
    }
    updatetotal()
  }


  function updatetotal(){
      let total = 0
      let priceElement = document.getElementsByClassName('cart__price')[0]
      let quantityElement = document.getElementsByClassName('qty')[0]
      let price = parseFloat(priceElement.innerText.replace('đ', ''))
      let quantity = quantityElement.value
      total += price * quantity
      document.getElementsByClassName('cart__total-price')[0].innerText = total + ' đ'  
  }



</script>
